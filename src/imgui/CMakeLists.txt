file(GLOB children RELATIVE ${CMAKE_CURRENT_SOURCE_DIR} ${CMAKE_CURRENT_SOURCE_DIR}/*)
foreach(child ${children})
	string(FIND ${child} "_impl_" impl)
	if(${child} MATCHES ".+[(\.cpp)(\.c)]" AND ${impl} EQUAL -1)
		target_sources(photon PRIVATE ${child})
	endif()
endforeach()

if(VULKAN OR PHOTON_FULL)
	target_sources(photon PRIVATE "imgui_impl_vulkan.cpp")
endif()
if(OPENGL OR PHOTON_FULL)
	target_sources(photon PRIVATE "imgui_impl_opengl3.cpp")
endif()
if(VULKAN OR OPENGL OR GLFW OR PHOTON_FULL)
	target_sources(photon PRIVATE "imgui_impl_glfw.cpp")
endif()